% =============================================================================
% MAIN DOCUMENT - Textbook Template
% Compile with: lualatex (for custom font support)
% =============================================================================
\documentclass[11pt, letterpaper]{article}

% Load preamble with all customizations
\input{preamble}

% Bibliography file
\addbibresource{references.bib}

% Document title (used in running header)
\title{Sample Textbook}

% Document metadata
\hypersetup{
  pdftitle={Sample Textbook},
  pdfauthor={Author Name}
}

\begin{document}

% =============================================================================
% TITLE PAGE - Use symmetric margins for centering
% =============================================================================
\newgeometry{left=1.5in, right=1.5in, top=1in, bottom=1in}
\begin{titlepage}
  \centering
  \vspace*{2in}
  {\Huge\bfseries Sample Textbook Title\par}
  \vspace{1em}
  {\Large A Subtitle Goes Here\par}
  \vspace{2em}
  {\large Author Name\par}
  \vspace{1em}
  {\normalsize Version 1.0 --- January 2026\par}
  \vfill
\end{titlepage}
\restoregeometry

% =============================================================================
% TABLE OF CONTENTS
% =============================================================================
\tableofcontents
\newpage

% =============================================================================
% CHAPTER 1: INTRODUCTION
% =============================================================================
\section{Introduction}
\label{sec:introduction}

This document demonstrates the textbook layout with margin notes, callout boxes, and proper typography.\authornote{Shreya}{Margin notes can now include attribution like this one.} The design prioritizes readability while providing multiple ways to highlight important content.

\subsection{Getting Started}

When working with this template, you'll use several key features. The \term{defined terms} appear in italics, while \tech{technical terms} use a monospace font. Use \strong{bold text} sparingly for key concepts.

\begin{infobox}[Note to readers]
This is an informational callout box with a gray header. Use it to provide supplementary information, tips, or important notes that should stand out from the main text but don't interrupt the flow of reading.
\end{infobox}

\begin{takeawaybox}
The key takeaway box uses red accents to highlight critical information that readers should remember. This numbered format helps readers quickly identify the most important points.
\end{takeawaybox}

% =============================================================================
% CHAPTER 2: CORE CONCEPTS
% =============================================================================
\section{Core Concepts}
\label{sec:concepts}

This section covers the fundamental concepts you need to understand.\marginnotetext{Plain margin notes appear in italics without attribution.}

\subsection{Working with Data Structures}

A \term{tuple} is an ordered collection of elements. Here's a formal definition:

\begin{definitionbox}[Tuple]
A \strong{tuple} is an ordered, immutable sequence of elements. Key properties:
\begin{itemize}
  \item \tech{length}: The number of elements in the tuple
  \item \tech{index}: Position of each element (0-based)
  \item \tech{immutable}: Cannot be modified after creation
\end{itemize}
\end{definitionbox}

\subsection{Practical Examples}

Let's walk through an example that demonstrates these concepts in practice.\authornote{Hamel}{This example comes from a real production system we built.}

\begin{solutionbox}
Given the requirements, we can construct our solution as follows:
\begin{enumerate}
  \item \tech{Initialize the data structure}
  \item \tech{Validate input parameters}
  \item \tech{Process the request}
  \item \tech{Return formatted output}
\end{enumerate}
\end{solutionbox}

Here's a sample prompt you might use:

\begin{promptbox}[Sample Prompt]
\begin{lstlisting}
You are an assistant that helps with data analysis.
Given the following dataset, identify the top 3 trends:

Dataset: sales_2025.csv
Columns: date, product, revenue, units_sold
\end{lstlisting}
\end{promptbox}

\begin{takeawaybox}
When designing prompts, be specific about the expected output format and provide context about the data being analyzed. This significantly improves response quality.
\end{takeawaybox}

% =============================================================================
% CHAPTER 3: ADVANCED TOPICS
% =============================================================================
\section{Advanced Topics}
\label{sec:advanced}

As noted by \textcite{shankar2025}, advanced techniques build upon the foundations established in earlier sections.

\subsection{Best Practices}

When implementing these systems, follow these guidelines:

\begin{itemize}
  \item Start with simple approaches before adding complexity
  \item Test thoroughly at each stage
  \item Document your decisions and rationale
  \begin{itemize}
    \item Include code comments for non-obvious logic
    \item Maintain a changelog for significant updates
  \end{itemize}
  \item Review and refine based on feedback
\end{itemize}

\warningnotice{Do not distribute without permission}

\subsection{Common Patterns}

Several patterns emerge in practice. The \tech{Property Search} pattern, for example, allows efficient querying of structured data.

\begin{definitionbox}[Property Search]
The \strong{Property Search} pattern enables:
\begin{itemize}
  \item \tech{query}: The search expression
  \item \tech{filters}: Optional constraints on results
  \item \tech{sort}: Ordering criteria for output
\end{itemize}
\end{definitionbox}

This approach has been validated in production systems handling millions of requests \parencite{shankar2025}.

Visit \url{https://example.com/docs} for more information on implementation details.

% =============================================================================
% BIBLIOGRAPHY
% =============================================================================
\newpage
\printbibliography[title={References}]

\end{document}
